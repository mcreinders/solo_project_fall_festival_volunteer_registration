var app=angular.module("locationApp",["ngRoute"]);app.config(["$routeProvider","$locationProvider",function(a,b){a.when("/",{templateUrl:"views/registrationPage.html"}).when("/newUserRegistration",{templateUrl:"views/newUserRegistration.html",controller:"newUserRegistrationController"}).when("/returningUserSignIn",{templateUrl:"views/returningUserSignIn.html",controller:"returningUserSignInController"}).when("/loginFailed",{templateUrl:"views/loginFailed.html"}).when("/volunteerRegistration",{templateUrl:"views/volunteerRegistration.html",controller:"volunteerRegistrationController"}).when("/coordinatorInformation",{templateUrl:"views/coordinatorInformation.html"}).when("/openingsByTime",{templateUrl:"views/openingsByTime.html"}).when("/openingsByActivity",{templateUrl:"views/openingsByActivity.html"}).when("/duplicateUsername",{templateUrl:"views/duplicateUsername.html"}).when("/youSignedUpFor",{templateUrl:"views/youSignedUpFor.html"}),b.html5Mode(!0)}]),app.controller("newUserRegistrationController",["$scope","$http","$location",function(a,b,c){a.show=!0,a.hide=!1,a.newUser={},a.registerUser=function(){b.post("/registerNewUser",a.newUser).then(function(a){"success"==a.data?c.path("volunteerRegistration"):c.path("duplicateUsername")})}}]),app.controller("returningUserSignInController",["$scope","$http","$location",function(a,b,c){a.returningUser={},a.sendSignIn=function(){b.post("/signIn",a.returningUser).then(function(d){"success"==d.data?b.post("/getUserInfo",a.returningUser).then(function(a){1==a.data.coordinator?c.path("coordinatorInformation"):c.path("volunteerRegistration")}):c.path("loginFailed")})}}]),app.controller("volunteerRegistrationController",["$scope","$http","$location",function(a,b,c){a.predicate="shift",a.reverse=!0,a.order=function(b){a.reverse=a.predicate===b?!a.reverse:!1,a.predicate=b},a.searchOpening="",a.availableArray=[],getOpenings=function(){b.get("/getOpenings").then(function(b){for(activities=b.data,i=0;i<activities.length;i++)availOpenings=activities[i].max_avail-activities[i].users.length,a.availableArray[i]=activities[i],a.availableArray[i].availOpenings=availOpenings;console.log(a.availableArray)})},getOpenings(),a.activitySelectedFunction=function(b){a.submitActivity=b,console.log("activity selected function",b)},a.activitySubmitFunction=function(a){console.log("activity submit function",a)}}]),app.factory("GetActivitiesService",["$http",function(a){var b={},c=function(){a.get("/getOpenings").then(function(a){b=a.data})};return{activityInfo:b,getActivityInfo:c}}]);